appId: com.flperez.uballet
---
- runFlow: ../common/start-app.yaml
- runFlow:
    file: ../common/sign-in-with-email.yaml
    env:
      EMAIL: "funded-1@test.com"
- runFlow:
    file: ../common/recover-with-seedphrase.yaml
    env:
      SEED_PHRASE: "cake still pioneer lunch valid wisdom urge author report box utility possible"
- tapOn:
    text: "Security"
- tapOn:
    text: "Create Recovery Team"
- tapOn:
    text: "Recoverer 1 Email"
- inputText: "funded-2@test.com"
- tapOn:
    text: "Recoverer 2 Email"
- inputText: "funded-3@test.com"
- tapOn:
    text: "Add Recovery"
- tapOn:
    text: "Settings"
- tapOn: "Logout"


- runFlow:
    file: ../common/sign-in-with-email.yaml
    env:
      EMAIL: "funded-2@test.com"
- runFlow:
    file: ../common/recover-with-seedphrase.yaml
    env:
      SEED_PHRASE: "execute stage caught click catch evidence ribbon jump legend tobacco narrow frame"
- tapOn:
    text: "Security"
- tapOn: "Accept"
- tapOn:
    text: "Settings"
- tapOn: "Logout"

- runFlow:
    file: ../common/sign-in-with-email.yaml
    env:
      EMAIL: "funded-3@test.com"
- runFlow:
    file: ../common/recover-with-seedphrase.yaml
    env:
      SEED_PHRASE: "insane vessel film sure quarter early switch water buddy initial pistol express"
- tapOn:
    text: "Security"
- tapOn: "Accept"
- tapOn:
    text: "Settings"
- tapOn: "Logout"

- runFlow:
    file: ../common/sign-in-with-email.yaml
    env:
      EMAIL: "funded-1@test.com"
- tapOn:
    text: "Security"
- tapOn: "Confirm"
- tapOn:
    text: "Confirm Team"
- assertVisible:
    text: "Recoverer 1: funded-2@test.com"
- assertVisible:
    text: "Recoverer 2: funded-3@test.com"
- assertNotVisible:
    text: "Confirm"
- tapOn:
    text: "Settings"
- tapOn: "Logout"

- clearKeychain

- runFlow:
    file: ../common/sign-in-with-email.yaml
    env:
      EMAIL: "funded-1@test.com"
- tapOn: "Contact Recovery Team" 
- tapOn: "Request Recovery"
- assertVisible:
    text: "Your recovery is in progress"
- assertVisible:
    text: "Get in touch with your recovery team"
- tapOn: "Back"
- tapOn: "Log Out"

- runFlow:
    file: ../common/sign-in-with-email.yaml
    env:
      EMAIL: "funded-2@test.com"
- runFlow:
    file: ../common/recover-with-seedphrase.yaml
    env:
      SEED_PHRASE: "execute stage caught click catch evidence ribbon jump legend tobacco narrow frame"
- tapOn:
    text: "Security"
- tapOn: "Sign Recovery"
- tapOn:
    text: "Settings"
- tapOn: "Logout"

- runFlow:
    file: ../common/sign-in-with-email.yaml
    env:
      EMAIL: "funded-3@test.com"
- runFlow:
    file: ../common/recover-with-seedphrase.yaml
    env:
      SEED_PHRASE: "insane vessel film sure quarter early switch water buddy initial pistol express"
- tapOn:
    text: "Security"
- tapOn: "Sign Recovery"
- tapOn: "Complete Recovery"
- assertVisible:
    text: "No Action Required"
- tapOn:
    text: "Settings"
- tapOn: "Logout"

- runFlow:
    file: ../common/sign-in-with-email.yaml
    env:
      EMAIL: "funded-1@test.com"
- assertVisible:
    text: "Balance"